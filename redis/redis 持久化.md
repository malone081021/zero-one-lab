## 持久化方案

AOF

RDB

AOF 和RDB redis data base

持久化为了灾难备份，怎样将内存中的数据放在硬盘中
主要解决的问题就是
怎样不影响主线程，也就是处理用户请求的线程
怎样不丢数据
怎样恢复快，从持久化的数据到内存数据
---
数据从内存到硬盘
	持久化，不影响主线程，不能丢数据
	AOF，通过保存的命令元数据，恢复数据，执行完命令，保存命令的元数据
	存在一个线程rewrite命令员数据，减小元数据文件的大小，恢复快
	RDB
	直接审核快照，就是讲整个内存数据搬到硬盘，不能影响主线程，所以使用copyOnWrite方法
	不能丢失数据，所以使用加快快照的频率，这样会影响性能，主要是CPU 和 磁盘的带宽
	最终使用RDB 和 AOF 结合的方式
	降低快照频率、中间使用AOF
硬盘到数据
	恢复数据，快